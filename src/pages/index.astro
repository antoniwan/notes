---
import PageLayout from '../layouts/PageLayout.astro';
import PostCard from '../components/PostCard.astro';
import { getHighlights } from '../utils/highlights';

// Get dynamic highlights (latest 9 featured posts)
const highlights = await getHighlights();
---

<PageLayout
  title="Notes"
  description="I'm in a season of becoming â€” stripping away self-delusion, choosing honesty over performance, and aiming for more precision in how I think and speak. This space is my working notebook as I make that turn. I'm sharing thoughts in real time, without the 'guru' voice or intellectual showmanship. If something here hits, come back. It will evolve."
  path="/"
  structuredDataType="website"
  showTitle={false}
>
  <h2 class="highlights-heading">Highlights</h2>

  <div class="postcards-grid grid grid-cols-1 gap-6 md:grid-cols-3 md:gap-8">
    {
      highlights.map((post) => (
        <PostCard post={post} featured={post.data.featured} />
      ))
    }
  </div>

  <p class="mt-8">
    If those highlights landed for you, the rest is yours to explore. Start with context, follow a
    topic, or go through everything as it unfolded.
  </p>
  <ul>
    <li>
      <a href="/guided-path" class="text-[rgb(var(--color-primary))] hover:underline"
        ><strong>Start Here (Guided Path)</strong></a
      >
    </li>
    <li>
      <a href="/category" class="text-[rgb(var(--color-primary))] hover:underline"
        ><strong>Browse by Topic (Categories)</strong></a
      >
    </li>
    <li>
      <a href="/everything" class="text-[rgb(var(--color-primary))] hover:underline"
        ><strong>Everything (All Posts)</strong></a
      >
    </li>
  </ul>

  <h2>Why This Space Exists (This Season)</h2>

  <p>
    I'm reshaping how I think, speak, and show up. These notes help me see myself clearly, track my
    evolution, and stay accountable to truth over performance. You're welcome to read along, but
    this space exists first to keep me honest as I grow.
  </p>

  <p>I'll refine and distill this into more permanent work when it's ready.</p>
</PageLayout>

<style>
  /* Ensure proper spacing and typography */
  .prose h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    margin-top: 0;
  }

  .prose h2 {
    font-size: 2rem;
    font-weight: 600;
    line-height: 1.3;
    margin-top: 3rem;
    margin-bottom: 1.5rem;
  }

  .prose h3 {
    font-size: 1.5rem;
    font-weight: 600;
    line-height: 1.4;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .prose p {
    margin-top: 1.75rem;
    margin-bottom: 1.75rem;
    line-height: 1.8;
  }

  .prose ul {
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
  }

  .prose li {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
    line-height: 1.7;
  }

  .prose a {
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .prose a:hover {
    text-decoration: underline;
  }

  /* Isolate postcard grids from prose spacing */
  .prose .postcards-grid {
    margin-top: 0;
    margin-bottom: 0;
  }

  /* Mobile adjustments */
  @media (max-width: 768px) {
    .prose h1 {
      font-size: 2rem;
    }

    .prose h2 {
      font-size: 1.75rem;
      margin-top: 2rem;
    }

    /* Extra spacing for Highlights section on mobile */
    .prose .highlights-heading {
      margin-top: 3rem;
    }

    .prose h3 {
      font-size: 1.25rem;
    }
  }
</style>
