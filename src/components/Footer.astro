---
import { SITE_TITLE, SOCIAL_LINKS } from '../consts';
import Logo from './Logo.astro';
import Container from './Container.astro';
import pkg from '../../package.json';
---

<footer
  class="theme-transition relative mt-16 border-t border-[rgb(var(--color-border))]/30 bg-gradient-to-b from-[rgb(var(--color-bg))] to-[rgb(var(--color-bg-alt))] shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] md:mt-20"
  role="contentinfo"
>
  <!-- Subtle overlay for additional contrast -->
  <div
    class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/[0.02] to-transparent"
  >
  </div>

  <Container class="relative py-12 md:py-16">
    <!-- Main Footer Content -->
    <div class="grid grid-cols-1 gap-8 md:grid-cols-2 md:gap-12 lg:grid-cols-4">
      <!-- Brand Section -->
      <div class="lg:col-span-1">
        <Logo size="xs" />
      </div>

      <!-- Quick Links -->
      <div>
        <h3
          class="mb-4 text-lg font-semibold leading-tight text-[rgb(var(--color-text))] md:text-xl"
        >
          Quick Links
        </h3>
        <nav class="space-y-2" aria-label="Quick navigation">
          <a href="/guided-path" class="link-muted block text-sm leading-relaxed md:text-base"
            >Guided Path</a
          >
          <a href="/category/" class="link-muted block text-sm leading-relaxed md:text-base"
            >Categories</a
          >
          <a href="/everything" class="link-muted block text-sm leading-relaxed md:text-base"
            >Everything</a
          >
          <a href="/about" class="link-muted block text-sm leading-relaxed md:text-base">About</a>
        </nav>
      </div>

      <!-- Resources -->
      <div>
        <h3
          class="mb-4 text-lg font-semibold leading-tight text-[rgb(var(--color-text))] md:text-xl"
        >
          Resources
        </h3>
        <nav class="space-y-2" aria-label="Resources navigation">
          <a href="/guided-path" class="link-muted block text-sm leading-relaxed md:text-base"
            >ğŸ—ºï¸ Guided Path</a
          >
          <a href="/brain-science/" class="link-muted block text-sm leading-relaxed md:text-base"
            >ğŸ§  Writing Insights</a
          >
          <a href="/tag-management" class="link-muted block text-sm leading-relaxed md:text-base"
            >ğŸ·ï¸ Tag Analytics</a
          >
          <a href="/api/" class="link-muted block text-sm leading-relaxed md:text-base"
            >ğŸ’¬ Public API</a
          >
        </nav>
      </div>

      <!-- Connect Section -->
      <div>
        <h3
          class="mb-4 text-lg font-semibold leading-tight text-[rgb(var(--color-text))] md:text-xl"
        >
          Connect
        </h3>
        <nav class="space-y-2" aria-label="Social media links">
          <a
            href={SOCIAL_LINKS.bluesky}
            target="_blank"
            rel="noopener noreferrer"
            class="link-muted flex items-center gap-2 text-sm leading-relaxed md:text-base"
          >
            <span class="text-lg">ğŸŒ€</span>
            <span>BlueSky</span>
          </a>
          <a
            href={SOCIAL_LINKS.github}
            target="_blank"
            rel="noopener noreferrer"
            class="link-muted flex items-center gap-2 text-sm leading-relaxed md:text-base"
          >
            <span class="text-lg">ğŸ™</span>
            <span>GitHub</span>
          </a>
          <a
            href={SOCIAL_LINKS.buildsSoftware}
            target="_blank"
            rel="noopener noreferrer"
            class="link-muted flex items-center gap-2 text-sm leading-relaxed md:text-base"
          >
            <span class="text-lg">ğŸ’»</span>
            <span>Builds Software</span>
          </a>
        </nav>
      </div>
    </div>

    <!-- Copyright Section -->
    <div class="mt-8 border-t border-[rgb(var(--color-border))]/30 pt-8 md:mt-12 md:pt-12">
      <div class="flex flex-col items-center justify-between gap-4 md:flex-row">
        <div
          class="text-center text-[0.7rem] leading-snug text-[rgb(var(--color-text-muted))] opacity-70 md:text-left"
        >
          <p class="!mb-0 !mt-0 !text-[0.7rem] !leading-snug">
            Â© {new Date().getFullYear()}
            {SITE_TITLE}. All rights reserved. Content: <a
              href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
              target="_blank"
              rel="noopener noreferrer">CC BY-NC-SA 4.0</a
            > Code: <a
              href="https://opensource.org/licenses/MIT"
              target="_blank"
              rel="noopener noreferrer">MIT</a
            >
          </p>
        </div>

        <!-- Additional Links -->
        <div
          class="flex flex-wrap justify-center gap-4 text-[0.7rem] leading-snug text-[rgb(var(--color-text-muted))] md:justify-end"
        >
          <div class="flex items-center gap-2">
            <a href="/sitemap-index.xml" class="link-muted">Sitemap</a>
            <span class="text-[rgb(var(--color-text-muted))]/50">â€¢</span>
            <a href="/rss.xml" class="link-muted" title="RSS Feed">ğŸ“¡ RSS</a>
            <span class="text-[rgb(var(--color-text-muted))]/50">â€¢</span>
            <a href="/feed.json" class="link-muted" title="JSON Feed">ğŸ“„ JSON</a>
          </div>
          <span
            class="inline-flex items-center rounded-full border border-[rgb(var(--color-primary))]/20 bg-[rgb(var(--color-primary))]/10 px-2 py-1 text-[0.7rem] font-medium text-[rgb(var(--color-primary))]"
          >
            <a
              href="https://github.com/antoniwan/notes"
              target="_blank"
              rel="noopener noreferrer">v{pkg.version}</a
            ></span
          >
        </div>
      </div>
    </div>
  </Container>
</footer>
